---
import HeaderLink from "./HeaderLink.astro";
import { Icon } from "astro-icon/components";
---

<script is:inline>
  document.addEventListener("astro:page-load", () => {
    const handleToggleClick = () => {
      const element = document.documentElement;
      element.classList.toggle("dark");

      const isDark = element.classList.contains("dark");
      localStorage.setItem("theme", isDark ? "dark" : "light");
    };

    document
      .getElementById("themeToggle")
      .addEventListener("click", handleToggleClick);
  });
</script>

<header
  class="sticky top-0 z-50 border-b-2 border-dashed border-border bg-background/70 text-foreground backdrop-blur-sm sm:px-12"
>
  <nav class="border-x-2 border-dashed border-muted px-4 py-2 sm:px-12">
    <div class="flex content-center items-center gap-2">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/project">Projects</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
      <div class="flex-1"></div>
      <button
        id="themeToggle"
        class="grid size-8 place-content-center rounded-sm text-2xl"
      >
        <Icon name="ic:twotone-light-mode" class="block dark:hidden" />
        <Icon name="ic:twotone-dark-mode" class="hidden dark:block" />
      </button>
    </div>
  </nav>
</header>
